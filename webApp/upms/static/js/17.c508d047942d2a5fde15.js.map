{"version":3,"sources":["webpack:///src/pages/Upms/upmsRole.vue","webpack:///./src/pages/Upms/upmsRole.vue?cf2a","webpack:///./src/pages/Upms/upmsRole.vue"],"names":["upmsRole","components","TableBase","name","data","_this","this","showQuery","lastSelect","empowerLastSelect","defaultCheckIds","defaultEmpowerCheckIds","idvisible","addOrModifyMark","permissions","empowerPermissions","rules","title","required","message","trigger","systemId","rolePermissions","orders","empowerRules","roleObj","status","delFlag","empowerObj","modifyRoleObj","id","description","dataScope","version","systemMap","centerDialogVisible","empowerDialogVisible","orderType","value","label","orderTypes","statusType","statusTypes","dataScopeType","dataScopeTypes","tableOptions","api","query","order","hideOnSinglePage","staticData","columns","attr","prop","type","width","min-width","show-overflow-tooltip","formatter","row","column","cellValue","index","undefined","val","fixed","template","el","content","attrByRow","disabled","handle","modifyRole","removeRole","props","beforeRouteEnter","to","from","next","vm","selectSystem","beforeCreate","created","beforeMount","mounted","beforeUpdate","updated","beforeDestroy","destroyed","watch","roleObj.systemId","handler","newValue","oldValue","_this2","Object","then","response","code","$message","showClose","catch","console","log","computed","directives","filter","methods","toggleQuery","refresh","$refs","table","nodeShow","node","visibleValue","visible","checkChange","a","b","_this3","array","checkedKeys","haseChildrenOrNot","children","length","forEach","oneChildren","indexOf","push","$common","getArrayIndex","splice","pid","tree","setCheckedKeys","digui","childrenArray","_this4","obj","empowerCheckChange","_this5","empowerTree","_this6","systemObj","$set","loadData","clear","clearModify","addRole","_this7","getSelectData","ruleForm","clearValidate","idVisible","_this8","delList","$confirm","confirmButtonText","cancelButtonText","loadObj","$loading","lock","text","spinner","background","rolePo","listRolePo","oneObj","delObj","close","empowerRole","_this9","disableRole","_this10","enableRole","_this11","resetForm","saveRoleObj","_this12","validate","valid","rolePermissionBeanList","getCheckedNodes","oneSelect","permissionId","url","saveEmpower","_this13","empowerRuleForm","exportRole","_this14","listRoleExportPo","jsonSort","exportObj","systemName","blob","Blob","downloadElement","document","createElement","href","window","URL","createObjectURL","download","body","appendChild","click","removeChild","revokeObjectURL","Upms_upmsRole","render","_vm","_h","$createElement","_c","_self","staticClass","rawName","expression","staticStyle","attrs","placeholder","model","callback","$$v","_v","_l","item","key","on","icon-class","plain","icon","_b","ref","update:visible","$event","label-suffix","label-width","show-checkbox","node-key","default-checked-keys","check-strictly","expand-on-click-node","check","scopedSlots","_u","fn","_s","class","size","rows","min","_e","slot","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/17.c508d047942d2a5fde15.js","sourcesContent":["<template>\r\n  <div>\r\n    <div class=\"app-container-item\">\r\n      <div class=\"app-form\" v-show=\"showQuery\">\r\n        <div class=\"app-form-item\">\r\n          <el-input  type=\"text\" v-model=\"tableOptions.query.name\" placeholder=\"输入角色名称搜索\" style=\"width: 150px;\"/>\r\n        </div>\r\n        <div class=\"app-form-item\">\r\n          <el-select v-model=\"orderType\" placeholder=\"请选择\" style=\"width: 120px;\">\r\n            <el-option\r\n              v-for=\"item in orderTypes\"\r\n              :key=\"item.value\"\r\n              :label=\"item.label\"\r\n              :value=\"item\">\r\n            </el-option>\r\n          </el-select>\r\n        </div>\r\n        <div class=\"app-form-item\">\r\n          <el-select v-model=\"statusType\" placeholder=\"请选择\" style=\"width: 120px;\">\r\n            <el-option\r\n              v-for=\"item in statusTypes\"\r\n              :key=\"item.value\"\r\n              :label=\"item.label\"\r\n              :value=\"item\">\r\n            </el-option>\r\n          </el-select>\r\n        </div>\r\n        <div class=\"app-form-buttons\">\r\n          <div class=\"app-form-buttons-item\">\r\n            <el-button @click=\"loadData\" type=\"primary\">\r\n              <ant-icon icon-class=\"SearchOutlined\"></ant-icon>\r\n              查询\r\n            </el-button>\r\n          </div>\r\n          <div class=\"app-form-buttons-item\">\r\n            <el-button @click=\"clear\" type=\"success\">\r\n              <ant-icon icon-class=\"RedoOutlined\"></ant-icon>\r\n              重置\r\n            </el-button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"app-hr\" v-show=\"showQuery\"></div>\r\n      <div class=\"app-form\">\r\n        <div class=\"app-form-buttons\">\r\n          <div class=\"app-form-buttons-item\" v-buttonshow=\"'upms:Role:add'\">\r\n            <el-button @click=\"addRole\" type=\"primary\">\r\n              <ant-icon icon-class=\"PlusOutlined\"></ant-icon>\r\n              新增\r\n            </el-button>\r\n          </div>\r\n          <div class=\"app-form-buttons-item\" v-buttonshow=\"'upms:Role:upd'\">\r\n            <el-button @click=\"modifyRole\" type=\"success\">\r\n              <ant-icon icon-class=\"EditOutlined\"></ant-icon>\r\n              修改\r\n            </el-button>\r\n          </div>\r\n          <div class=\"app-form-buttons-item\" v-buttonshow=\"'upms:Role:del'\">\r\n            <el-button @click=\"removeRole\" type=\"danger\">\r\n              <ant-icon icon-class=\"DeleteOutlined\"></ant-icon>\r\n              删除\r\n            </el-button>\r\n          </div>\r\n          <div class=\"app-form-buttons-item\" v-buttonshow=\"'upms:Role:auth'\">\r\n            <el-button @click=\"empowerRole\" type=\"warning\">\r\n              <ant-icon icon-class=\"UploadOutlined\"></ant-icon>\r\n              授权\r\n            </el-button>\r\n          </div>\r\n          <div class=\"app-form-buttons-item\" v-buttonshow=\"'upms:Role:unable'\">\r\n            <el-button @click=\"disableRole\" type=\"warning\">\r\n              <ant-icon icon-class=\"UploadOutlined\"></ant-icon>\r\n              禁用\r\n            </el-button>\r\n          </div>\r\n          <div class=\"app-form-buttons-item\" v-buttonshow=\"'upms:Role:enable'\">\r\n            <el-button @click=\"enableRole\" type=\"warning\">\r\n              <ant-icon icon-class=\"UploadOutlined\"></ant-icon>\r\n              启用\r\n            </el-button>\r\n          </div>\r\n<!--          <div class=\"app-form-buttons-item\">-->\r\n<!--            <el-button @click=\"exportRole\" type=\"warning\">-->\r\n<!--              <ant-icon icon-class=\"UploadOutlined\"></ant-icon>-->\r\n<!--              导出-->\r\n<!--            </el-button>-->\r\n<!--          </div>-->\r\n        </div>\r\n        <el-button-group class=\"app-form-button-group align-right\">\r\n          <el-button\r\n            plain\r\n            type=\"info\"\r\n            icon=\"el-icon-search\"\r\n            @click=\"toggleQuery\"\r\n          />\r\n          <el-button\r\n            icon=\"el-icon-refresh\"\r\n            @click=\"refresh\"\r\n          />\r\n        </el-button-group>\r\n      </div>\r\n    </div>\r\n    <div class=\"app-container-item\">\r\n      <TableBase v-bind=\"tableOptions\" ref=\"table\"></TableBase>\r\n    </div>\r\n    <el-dialog\r\n      title=\"角色编辑\"\r\n      :visible.sync=\"centerDialogVisible\"\r\n      width=\"480px\"\r\n      >\r\n      <el-form :model=\"roleObj\" :rules=\"rules\" label-suffix=\"\" ref=\"ruleForm\" label-width=\"120px\" class=\"demo-ruleForm\">\r\n        <el-form-item label=\"角色标题\" prop=\"title\">\r\n          <el-input v-model=\"roleObj.title\" placeholder=\"角色标题\" ></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"角色名称\" prop=\"name\">\r\n          <el-input  v-model=\"roleObj.name\" placeholder=\"角色名称\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"角色所属系统\" prop=\"systemId\">\r\n          <el-select v-model=\"roleObj.systemId\" placeholder=\"请选择\" :disabled=\"!addOrModifyMark\">\r\n            <el-option\r\n              v-for=\"item in systemMap\"\r\n              :key=\"item.id\"\r\n              :label=\"item.name\"\r\n              :value=\"item.id\">\r\n            </el-option>\r\n          </el-select>\r\n        </el-form-item>\r\n        <el-form-item label=\"分配权限\" prop=\"systemId\">\r\n          <el-tree\r\n            :data=\"permissions\"\r\n            ref=\"tree\"\r\n            show-checkbox\r\n            node-key=\"id\"\r\n            :default-checked-keys=\"defaultCheckIds\"\r\n            :check-strictly=\"true\"\r\n            :expand-on-click-node=\"false\"\r\n            @check=\"checkChange\"\r\n            :props=\"{label: 'name'}\">\r\n            <span class=\"custom-tree-node\" slot-scope=\"{ node, data }\">\r\n              <span>{{ node.label }}</span>\r\n              <span>\r\n                <el-button\r\n                  size=\"mini\"\r\n                  :class=\"data.visible === '0' ? 'custom-tree-node-button-active' : 'custom-tree-node-button-normal'\"\r\n                  @click=\"() => nodeShow(node, data, '0')\">\r\n                  显示\r\n                </el-button>\r\n                <el-button\r\n                  size=\"mini\"\r\n                  :class=\"data.visible === '1' ? 'custom-tree-node-button-active' : 'custom-tree-node-button-normal'\"\r\n                  @click=\"() => nodeShow(node, data, '1')\">\r\n                  隐藏\r\n                </el-button>\r\n              </span>\r\n            </span>\r\n          </el-tree>\r\n        </el-form-item>\r\n        <el-form-item label=\"角色描述\" prop=\"description\">\r\n          <el-input\r\n            type=\"textarea\"\r\n            :rows=\"3\"\r\n            placeholder=\"角色描述\"\r\n            v-model=\"roleObj.description\">\r\n          </el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"排序\" prop=\"orders\">\r\n          <el-input-number v-model=\"roleObj.orders\" :min=\"1\" ></el-input-number>\r\n        </el-form-item>\r\n        <el-form-item label=\"数据范围\" prop=\"dataScope\">\r\n          <el-select v-model=\"dataScopeType\" placeholder=\"\" style=\"width: 180px;\">\r\n            <el-option\r\n              v-for=\"item in dataScopeTypes\"\r\n              :key=\"item.value\"\r\n              :label=\"item.label\"\r\n              :value=\"item\">\r\n            </el-option>\r\n          </el-select>\r\n        </el-form-item>\r\n        <el-form-item v-if=\"addOrModifyMark\" label=\"状态\" prop=\"status\">\r\n          <el-radio v-model=\"roleObj.status\" label=\"0\">正常</el-radio>\r\n          <el-radio v-model=\"roleObj.status\" label=\"1\">停用</el-radio>\r\n        </el-form-item>\r\n      </el-form>\r\n      <span slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button @click=\"resetForm\">取 消</el-button>\r\n        <el-button type=\"primary\" @click=\"saveRoleObj\" >确 定</el-button>\r\n      </span>\r\n    </el-dialog>\r\n    <el-dialog\r\n      title=\"角色授权\"\r\n      :visible.sync=\"empowerDialogVisible\"\r\n      width=\"480px\"\r\n      >\r\n      <el-form :model=\"empowerObj\" label-suffix=\"\" ref=\"empowerRuleForm\" label-width=\"120px\" class=\"demo-ruleForm\">\r\n        <el-form-item label=\"角色所属系统\" prop=\"systemId\">\r\n          <el-select v-model=\"empowerObj.systemId\" placeholder=\"请选择\" disabled>\r\n            <el-option\r\n              v-for=\"item in systemMap\"\r\n              :key=\"item.id\"\r\n              :label=\"item.name\"\r\n              :value=\"item.id\">\r\n            </el-option>\r\n          </el-select>\r\n        </el-form-item>\r\n        <el-form-item label=\"分配权限\" prop=\"rolePermissions\">\r\n          <el-tree\r\n            :data=\"empowerPermissions\"\r\n            ref=\"empowerTree\"\r\n            show-checkbox\r\n            node-key=\"id\"\r\n            :default-checked-keys=\"defaultEmpowerCheckIds\"\r\n            :check-strictly=\"true\"\r\n            :expand-on-click-node=\"false\"\r\n            @check=\"empowerCheckChange\"\r\n            :props=\"{label: 'name'}\">\r\n            <span class=\"custom-tree-node\" slot-scope=\"{ node, data }\">\r\n              <span>{{ node.label }}</span>\r\n              <span>\r\n                <el-button\r\n                  size=\"mini\"\r\n                  :class=\"data.visible === '0' ? 'custom-tree-node-button-active' : 'custom-tree-node-button-normal'\"\r\n                  @click=\"() => nodeShow(node, data, '0')\">\r\n                  显示\r\n                </el-button>\r\n                <el-button\r\n                  size=\"mini\"\r\n                  :class=\"data.visible === '1' ? 'custom-tree-node-button-active' : 'custom-tree-node-button-normal'\"\r\n                  @click=\"() => nodeShow(node, data, '1')\">\r\n                  隐藏\r\n                </el-button>\r\n              </span>\r\n            </span>\r\n          </el-tree>\r\n        </el-form-item>\r\n      </el-form>\r\n      <span slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button @click=\"empowerDialogVisible = false\"  >取 消</el-button>\r\n        <el-button type=\"primary\" @click=\"saveEmpower\" >确 定</el-button>\r\n      </span>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport TableBase from '@/components/table/TableBase'\r\nimport {queryRole, addOrModifyRole, removeRole, disableRole, enableRole, queryRolePermission, querySystem, queryPermissionTree, downloadRoleExcel} from '@/api'\r\nexport default {\r\n  components: {TableBase},\r\n  name: 'Role',\r\n  data () {\r\n    return {\r\n      // 查询是否显示\r\n      showQuery: true,\r\n      // 修改页面记录每次选中的复选框\r\n      lastSelect: [],\r\n      // 授权页面记录每次选中的复选框\r\n      empowerLastSelect: [],\r\n      // 修改页面默认菜单赋值数组\r\n      defaultCheckIds: [],\r\n      // 授权页面默认菜单赋值数组\r\n      defaultEmpowerCheckIds: [],\r\n      // 权限树设默认值时，id对应的visible，用来判断显示还是隐藏\r\n      idvisible: {},\r\n      // 定义的每个data 属性必须有注释\r\n      // 注释规则： //\r\n      // 用来区别是新增还是修改  新增是true 修改是false\r\n      addOrModifyMark: false,\r\n      // 新增修改页面根据系统id生成该系统下的所有权限\r\n      permissions: [],\r\n      // 授权页面根据系统id生成该系统下的所有权限\r\n      empowerPermissions: [],\r\n      // 填写验证\r\n      rules: {\r\n        title: [{ required: true, message: '角色标题不能为空', trigger: 'blur' }],\r\n        name: [{ required: true, message: '角色名称不能为空', trigger: 'blur' }],\r\n        systemId: [{ required: true, message: '所属系统不能为空', trigger: 'blur' }],\r\n        rolePermissions: [{ required: true, message: '分配权限不能为空', trigger: 'blur' }],\r\n        orders: [{ required: true, message: '排序不能为空', trigger: 'blur' }]\r\n      },\r\n      // 授权弹框中的验证\r\n      empowerRules: {\r\n        systemId: [{ required: true, message: '所属系统不能为空', trigger: 'blur' }],\r\n        rolePermissions: [{ required: true, message: '分配权限不能为空', trigger: 'blur' }]\r\n      },\r\n      // 弹框绑定的数据对象\r\n      roleObj: {\r\n        status: '0',\r\n        orders: 1,\r\n        delFlag: '0'\r\n      },\r\n      empowerObj: {\r\n        systemId: '',\r\n        rolePermissions: ''\r\n      },\r\n      // 修改角色对象\r\n      modifyRoleObj: {\r\n        title: null,\r\n        id: null,\r\n        name: '',\r\n        systemId: null,\r\n        description: '',\r\n        orders: 1,\r\n        dataScope: null,\r\n        // status: 0,\r\n        delFlag: 0,\r\n        version: null,\r\n        rolePermissions: []\r\n      },\r\n      // 所有系统Map\r\n      systemMap: {},\r\n      // 编辑弹框显示隐藏\r\n      centerDialogVisible: false,\r\n      // 授权窗口显示隐藏\r\n      empowerDialogVisible: false,\r\n      // 默认类型\r\n      orderType: {\r\n        value: 0,\r\n        label: '正序'\r\n      },\r\n      // 类型\r\n      orderTypes: [{\r\n        value: 0,\r\n        label: '正序'\r\n      }, {\r\n        value: 1,\r\n        label: '倒序'\r\n      }],\r\n      // 默认删除类型\r\n      statusType: {\r\n        value: '3',\r\n        label: '全部'\r\n      },\r\n      // 删除类型\r\n      statusTypes: [{\r\n        value: '3',\r\n        label: '全部'\r\n      }, {\r\n        value: '0',\r\n        label: '正常'\r\n      }, {\r\n        value: '1',\r\n        label: '禁用'\r\n      }, {\r\n        value: '2',\r\n        label: '系统禁用'\r\n      }],\r\n      dataScopeType: {\r\n        value: '',\r\n        label: ''\r\n      },\r\n      // 新增弹框中的数据范围字段\r\n      dataScopeTypes: [{\r\n        value: '1',\r\n        label: '全部数据权限'\r\n      }, {\r\n        value: '2',\r\n        label: '自定数据权限'\r\n      }, {\r\n        value: '3',\r\n        label: '本部门数据权限'\r\n      }, {\r\n        value: '4',\r\n        label: '本部门及以下数据权限'\r\n      }],\r\n      // map1: {},\r\n      // map2: {},\r\n      // 表格\r\n      tableOptions: {\r\n        api: queryRole,\r\n        query: {\r\n          name: '',\r\n          order: 0,\r\n          status: 3\r\n        },\r\n        hideOnSinglePage: false,\r\n        staticData: [],\r\n        columns: [\r\n          {\r\n            attr: {\r\n              prop: 'checkbox',\r\n              type: 'selection',\r\n              label: '多选',\r\n              width: '80'\r\n            }\r\n          },\r\n          {\r\n            attr: {\r\n              type: 'index',\r\n              label: '序号',\r\n              width: '80'\r\n            }\r\n          },\r\n          {\r\n            attr: {\r\n              prop: 'name',\r\n              label: '角色名称',\r\n              'min-width': '150',\r\n              'show-overflow-tooltip': true\r\n            }\r\n          },\r\n          {\r\n            attr: {\r\n              prop: 'title',\r\n              label: '角色标题',\r\n              'show-overflow-tooltip': true\r\n            }\r\n          },\r\n          {\r\n            attr: {\r\n              prop: 'description',\r\n              label: '角色描述',\r\n              'min-width': '120',\r\n              'show-overflow-tooltip': true\r\n            }\r\n          },\r\n          {\r\n            attr: {\r\n              prop: 'orders',\r\n              label: '排序',\r\n              width: '100'\r\n            }\r\n          },\r\n          {\r\n            attr: {\r\n              prop: 'systemId',\r\n              label: '所属系统',\r\n              'min-width': '180',\r\n              'show-overflow-tooltip': true,\r\n              formatter: (row, column, cellValue, index) => {\r\n                if (this.systemMap[cellValue] !== null && this.systemMap[cellValue] !== undefined) {\r\n                  return this.systemMap[cellValue].name\r\n                }\r\n                return ''\r\n              }\r\n            }\r\n          },\r\n          {\r\n            attr: {\r\n              prop: 'dataScope',\r\n              label: '数据范围',\r\n              'min-width': '180',\r\n              'show-overflow-tooltip': true,\r\n              formatter (row, column, cellValue, index) {\r\n                let val = ''\r\n                if (cellValue === '1') {\r\n                  val = '全部数据权限'\r\n                } else if (cellValue === '2') {\r\n                  val = '自定数据权限'\r\n                } else if (cellValue === '3') {\r\n                  val = '本部门数据权限'\r\n                } else if (cellValue === '4') {\r\n                  val = '本部门及以下数据权限'\r\n                }\r\n                return val\r\n              }\r\n            }\r\n          },\r\n          {\r\n            attr: {\r\n              prop: 'status',\r\n              label: '状态',\r\n              width: '100',\r\n              formatter (row, column, cellValue, index) {\r\n                let val = '正常'\r\n                if (cellValue === '1') {\r\n                  val = '禁用'\r\n                } else if (cellValue === '2') {\r\n                  val = '系统禁用'\r\n                }\r\n                return val\r\n              }\r\n            }\r\n          },\r\n          {\r\n            attr: {\r\n              prop: 'operation',\r\n              label: '操作',\r\n              width: 100,\r\n              fixed: 'right'\r\n            },\r\n            template: [\r\n              {\r\n                el: 'el-button',\r\n                attr: {\r\n                  type: 'text'\r\n                },\r\n                content: '修改',\r\n                attrByRow: {\r\n                  disabled: function (index, row) {\r\n                    if (row.status !== '0') {\r\n                      return true\r\n                    }\r\n                  }\r\n                },\r\n                handle: (index, row) => {\r\n                  this.modifyRole(row)\r\n                }\r\n              }, {\r\n                el: 'el-button',\r\n                attr: {\r\n                  type: 'text'\r\n                },\r\n                content: '删除',\r\n                attrByRow: {\r\n                  disabled: function (index, row) {\r\n                  }\r\n                },\r\n                handle: (index, row) => {\r\n                  this.removeRole(row)\r\n                }\r\n              }\r\n            ]\r\n          }\r\n        ]\r\n      }\r\n    }\r\n  },\r\n  props: {},\r\n  // 页面创建加载方法\r\n  beforeRouteEnter (to, from, next) {\r\n    next(vm => {\r\n      vm.selectSystem()\r\n    })\r\n  },\r\n  // beforeRouteUpdate () {\r\n  // },\r\n  // beforeRouteLeave () {\r\n  // },\r\n  beforeCreate () {\r\n  },\r\n  created () {\r\n  },\r\n  beforeMount () {\r\n  },\r\n  mounted () {\r\n  },\r\n  beforeUpdate () {\r\n  },\r\n  updated () {\r\n  },\r\n  beforeDestroy () {\r\n  },\r\n  destroyed () {\r\n  },\r\n  watch: {\r\n    'roleObj.systemId': {\r\n      handler (newValue, oldValue) {\r\n        if (oldValue !== undefined && this.addOrModifyMark === true) {\r\n          queryPermissionTree({systemId: this.roleObj.systemId}).then((response) => {\r\n            if (response.data.code === 0) {\r\n              this.permissions = response.data.data\r\n              this.roleObj.rolePermissions = []\r\n            } else {\r\n              this.$message({\r\n                showClose: true,\r\n                message: response.data.message,\r\n                type: 'error'\r\n              })\r\n            }\r\n          }).catch((response) => {\r\n            console.log(response)\r\n            this.$message({\r\n              showClose: true,\r\n              message: '根据系统ID查询权限出错！',\r\n              type: 'error'\r\n            })\r\n          })\r\n        }\r\n      }\r\n    }\r\n  },\r\n  computed: {},\r\n  directives: {},\r\n  filter: {},\r\n  methods: {\r\n    // 方法调用不需要注释，方法定义需要注释\r\n    // 方法注释规则 /** */\r\n    /**\r\n     * @desc 控制查询的显隐\r\n     */\r\n    toggleQuery () {\r\n      this.showQuery = !this.showQuery\r\n    },\r\n    /**\r\n     * @desc 刷新表格\r\n     */\r\n    refresh () {\r\n      this.$refs.table.refresh()\r\n    },\r\n    /**\r\n     * 点击每行权限后面隐藏或显示时的方法\r\n     */\r\n    nodeShow (node, data, visibleValue) {\r\n      data.visible = visibleValue\r\n    },\r\n    /**\r\n     * 授权弹框点击复选框事件，选中子节点，加上选中父节点\r\n     */\r\n    checkChange (a, b) {\r\n      let array = b.checkedKeys\r\n      // 判断点击节点是否有选中的子节点,若有选中的子节点，父节点不可取消复选框\r\n      let haseChildrenOrNot = false\r\n      if (a.children !== null && a.children !== undefined && a.children.length > 0) {\r\n        a.children.forEach((oneChildren) => {\r\n          if (this.lastSelect.indexOf(oneChildren.id) > -1) {\r\n            haseChildrenOrNot = true\r\n          }\r\n        })\r\n      }\r\n      if (this.lastSelect.indexOf(a.id) < 0 || (this.lastSelect.indexOf(a.id) > -1 && haseChildrenOrNot)) {\r\n        array.push(a.id)\r\n      } else {\r\n        let index = this.$common.getArrayIndex(a.id)\r\n        if (index > -1) {\r\n          array.splice(index, 1)\r\n        }\r\n      }\r\n      if (array.indexOf(a.pid) < 0) {\r\n        array.push(a.pid)\r\n      }\r\n      this.lastSelect = array\r\n      this.$refs.tree.setCheckedKeys(array)\r\n    },\r\n    /**\r\n     * 给权限树赋默认值时，根据数据库的visible字段设置权限树的显示或者隐藏\r\n     */\r\n    digui (childrenArray) {\r\n      childrenArray.forEach((obj) => {\r\n        if (this.idvisible[obj.id] !== null && this.idvisible[obj.id] !== undefined) {\r\n          obj.visible = this.idvisible[obj.id]\r\n        }\r\n        if (obj.children !== null) {\r\n          this.digui(obj.children)\r\n        }\r\n      })\r\n    },\r\n    /**\r\n     * 授权弹框点击复选框事件，选中子节点，加上选中父节点\r\n     */\r\n    empowerCheckChange (a, b) {\r\n      let array = b.checkedKeys\r\n      // 判断点击节点是否有选中的子节点,若有选中的子节点，父节点不可取消复选框\r\n      let haseChildrenOrNot = false\r\n      if (a.children !== null && a.children !== undefined && a.children.length > 0) {\r\n        a.children.forEach((oneChildren) => {\r\n          if (this.empowerLastSelect.indexOf(oneChildren.id) > -1) {\r\n            haseChildrenOrNot = true\r\n          }\r\n        })\r\n      }\r\n      if (this.empowerLastSelect.indexOf(a.id) < 0 || (this.empowerLastSelect.indexOf(a.id) > -1 && haseChildrenOrNot)) {\r\n        array.push(a.id)\r\n      } else {\r\n        let index = this.$common.getArrayIndex(a.id)\r\n        if (index > -1) {\r\n          array.splice(index, 1)\r\n        }\r\n      }\r\n      if (array.indexOf(a.pid) < 0) {\r\n        array.push(a.pid)\r\n      }\r\n      this.empowerLastSelect = array\r\n      this.$refs.empowerTree.setCheckedKeys(array)\r\n    },\r\n    /**\r\n     * 查询所有系统\r\n     */\r\n    selectSystem () {\r\n      querySystem({}).then((response) => {\r\n        if (response.data.code === 0) {\r\n          response.data.data.forEach((systemObj) => {\r\n            this.$set(this.systemMap, systemObj.id, systemObj)\r\n          })\r\n        } else {\r\n        }\r\n      }).catch((response) => {\r\n        console.log(response)\r\n      })\r\n    },\r\n    /**\r\n     * 查询表格数据\r\n     */\r\n    loadData () {\r\n      this.tableOptions.query.order = this.orderType.value\r\n      this.tableOptions.query.status = this.statusType.value\r\n      this.$refs.table.refresh()\r\n    },\r\n    /**\r\n     * 重置按钮点击事件\r\n     */\r\n    clear () {\r\n      this.tableOptions.query = {\r\n        name: '',\r\n        order: 0,\r\n        status: 3\r\n      }\r\n      this.orderType = {\r\n        value: 0,\r\n        label: '正序'\r\n      }\r\n      this.statusType = {\r\n        value: '3',\r\n        label: '全部'\r\n      }\r\n    },\r\n    /**\r\n     * 重置修改时间的po\r\n     */\r\n    clearModify () {\r\n      this.permissions = []\r\n      this.modifyRoleObj.id = null\r\n      this.modifyRoleObj.title = null\r\n      this.modifyRoleObj.name = null\r\n      this.modifyRoleObj.systemId = null\r\n      this.modifyRoleObj.description = null\r\n      this.modifyRoleObj.orders = null\r\n      this.dataScopeType = {\r\n        value: '',\r\n        label: ''\r\n      }\r\n      this.modifyRoleObj.dataScope = null\r\n      // this.modifyRoleObj.status = null\r\n      this.modifyRoleObj.version = null\r\n      this.modifyRoleObj.rolePermissions = null\r\n    },\r\n    /**\r\n     * 增加按钮点击事件\r\n     */\r\n    addRole () {\r\n      if (this.$refs.tree !== undefined) {\r\n        this.$refs.tree.setCheckedKeys([])\r\n      }\r\n      this.centerDialogVisible = true\r\n      this.addOrModifyMark = true\r\n      this.roleObj = {\r\n        title: '',\r\n        name: '',\r\n        systemId: null,\r\n        description: '',\r\n        orders: 1,\r\n        dataScope: '',\r\n        status: '0',\r\n        delFlag: '0',\r\n        rolePermissions: []\r\n      }\r\n      this.permissions = []\r\n      this.dataScopeType = {\r\n        value: '',\r\n        label: ''\r\n      }\r\n    },\r\n    /**\r\n     * 修改按钮点击事件\r\n     */\r\n    modifyRole (row) {\r\n      if (row.type === 'click') {\r\n        if (this.$refs.table.getSelectData().length !== 1) {\r\n          this.$message({\r\n            showClose: true,\r\n            message: '请选择一条数据修改！',\r\n            type: 'warning'\r\n          })\r\n          return\r\n        }\r\n        row = this.$refs.table.getSelectData()[0]\r\n      }\r\n      if (row.status !== '0') {\r\n        this.$message({\r\n          showClose: true,\r\n          message: '该角色已禁用，不可以修改！',\r\n          type: 'warning'\r\n        })\r\n        return\r\n      }\r\n      if (this.$refs.ruleForm !== undefined) {\r\n        this.$refs.ruleForm.clearValidate()\r\n      }\r\n      this.clearModify()\r\n      this.lastSelect = []\r\n      this.centerDialogVisible = true\r\n      this.addOrModifyMark = false\r\n      this.modifyRoleObj.id = row.id\r\n      this.modifyRoleObj.title = row.title\r\n      this.modifyRoleObj.name = row.name\r\n      this.modifyRoleObj.systemId = row.systemId\r\n      this.modifyRoleObj.description = row.description\r\n      this.modifyRoleObj.orders = row.orders\r\n      if (row.dataScope === '1') {\r\n        this.dataScopeType = {\r\n          value: '1',\r\n          label: '全部数据权限'\r\n        }\r\n      } else if (row.dataScope === '2') {\r\n        this.dataScopeType = {\r\n          value: '2',\r\n          label: '自定数据权限'\r\n        }\r\n      } else if (row.dataScope === '3') {\r\n        this.dataScopeType = {\r\n          value: '3',\r\n          label: '本部门数据权限'\r\n        }\r\n      } else if (row.dataScope === '4') {\r\n        this.dataScopeType = {\r\n          value: '4',\r\n          label: '本部门及以下数据权限'\r\n        }\r\n      }\r\n      this.modifyRoleObj.dataScope = row.dataScope\r\n      // this.modifyRoleObj.status = row.status\r\n      this.modifyRoleObj.version = row.version\r\n      // 根据默认系统id查询权限（防止新增页面选择A系统，this.permissionsA系统的权限，再点击修改某一角色时，该角色为B系统，默认进去的权限下拉中还是A系统的权限）\r\n      queryPermissionTree({systemId: row.systemId}).then((response) => {\r\n        if (response.data.code === 0) {\r\n          this.permissions = response.data.data\r\n          this.defaultCheckIds = []\r\n        } else {\r\n          this.$message({\r\n            showClose: true,\r\n            message: response.data.message,\r\n            type: 'error'\r\n          })\r\n        }\r\n      }).then(() => {\r\n        // 根据角色id查询关联权限信息\r\n        queryRolePermission({id: this.modifyRoleObj.id}).then((response) => {\r\n          if (response.data.code === 0) {\r\n            this.lastSelect = response.data.data.rolePermissions\r\n            this.defaultCheckIds = response.data.data.rolePermissions\r\n            this.idvisible = response.data.data.idVisible\r\n            this.digui(this.permissions)\r\n          } else {\r\n            this.$message({\r\n              showClose: true,\r\n              message: response.data.message,\r\n              type: 'error'\r\n            })\r\n          }\r\n        })\r\n      }).catch((response) => {\r\n        console.log(response)\r\n        this.$message({\r\n          showClose: true,\r\n          message: '根据系统ID查询权限出错！',\r\n          type: 'error'\r\n        })\r\n      })\r\n      this.roleObj = this.modifyRoleObj\r\n    },\r\n    /**\r\n     * 删除按钮点击事件\r\n     */\r\n    removeRole (row) {\r\n      let delList = []\r\n      if (row.type === 'click') {\r\n        if (this.$refs.table.getSelectData().length < 1) {\r\n          this.$message({\r\n            showClose: true,\r\n            message: '请至少选择一条数据删除！',\r\n            type: 'warning'\r\n          })\r\n          return\r\n        }\r\n        delList = this.$refs.table.getSelectData()\r\n      } else {\r\n        delList.push(row)\r\n      }\r\n      this.$confirm('确认是否删除角色，此操作无法撤销?', '提示', {\r\n        confirmButtonText: '确定',\r\n        cancelButtonText: '取消',\r\n        type: 'warning'\r\n      }).then(() => {\r\n        // 执行删除操作\r\n        const loadObj = this.$loading({\r\n          lock: true,\r\n          text: '正在加载...',\r\n          spinner: 'el-icon-loading',\r\n          background: 'rgba(0, 0, 0, 0.7)'\r\n        })\r\n        let rolePo = {\r\n          listRolePo: []\r\n        }\r\n        delList.forEach((oneObj) => {\r\n          let delObj = {\r\n            id: oneObj.id,\r\n            version: oneObj.version\r\n          }\r\n          rolePo.listRolePo.push(delObj)\r\n        })\r\n        removeRole(rolePo).then((response) => {\r\n          loadObj.close()\r\n          if (response.data.code === 0) {\r\n            this.$message({\r\n              showClose: true,\r\n              message: '删除成功！',\r\n              type: 'success'\r\n            })\r\n            this.$refs.table.refresh()\r\n          } else {\r\n            this.$message({\r\n              showClose: true,\r\n              message: response.data.message,\r\n              type: 'error'\r\n            })\r\n          }\r\n        }).catch((response) => {\r\n          console.log(response)\r\n          loadObj.close()\r\n          this.$message({\r\n            showClose: true,\r\n            message: '删除失败！',\r\n            type: 'error'\r\n          })\r\n        })\r\n      }).catch(() => {\r\n        this.$message({\r\n          type: 'info',\r\n          message: '已取消删除'\r\n        })\r\n      })\r\n    },\r\n    /**\r\n     * 授权按钮点击事件\r\n     */\r\n    empowerRole () {\r\n      if (this.$refs.table.getSelectData().length !== 1) {\r\n        this.$message({\r\n          showClose: true,\r\n          message: '请选择一条数据授权！',\r\n          type: 'warning'\r\n        })\r\n        return\r\n      }\r\n      let row = this.$refs.table.getSelectData()[0]\r\n      if (row.status !== '0') {\r\n        this.$message({\r\n          showClose: true,\r\n          message: '该角色已禁用，不可以授权！',\r\n          type: 'warning'\r\n        })\r\n        return\r\n      }\r\n      this.empowerLastSelect = []\r\n      this.empowerDialogVisible = true\r\n      this.empowerObj.id = row.id\r\n      this.empowerObj.systemId = row.systemId\r\n      this.empowerObj.version = row.version\r\n      // 根据默认系统id查询权限（防止给A角色授权时为a系统，权限下拉为a系统的权限。再给B角色授权时，B角色权限下还是a系统的权限）\r\n      queryPermissionTree({systemId: row.systemId}).then((response) => {\r\n        if (response.data.code === 0) {\r\n          this.empowerPermissions = response.data.data\r\n          this.defaultEmpowerCheckIds = []\r\n        } else {\r\n          this.$message({\r\n            showClose: true,\r\n            message: response.data.message,\r\n            type: 'error'\r\n          })\r\n        }\r\n      }).then(() => {\r\n        // 根据角色id查询关联权限信息\r\n        queryRolePermission({id: this.empowerObj.id}).then((response) => {\r\n          if (response.data.code === 0) {\r\n            this.empowerLastSelect = response.data.data.rolePermissions\r\n            this.defaultEmpowerCheckIds = response.data.data.rolePermissions\r\n            this.idvisible = response.data.data.idVisible\r\n            this.digui(this.empowerPermissions)\r\n          } else {\r\n            this.$message({\r\n              showClose: true,\r\n              message: response.data.message,\r\n              type: 'error'\r\n            })\r\n          }\r\n        })\r\n      }).catch((response) => {\r\n        console.log(response)\r\n        this.$message({\r\n          showClose: true,\r\n          message: '根据系统ID查询权限出错！',\r\n          type: 'error'\r\n        })\r\n      })\r\n    },\r\n    /**\r\n     * 禁用按钮点击事件\r\n     */\r\n    disableRole () {\r\n      if (this.$refs.table.getSelectData().length < 1) {\r\n        this.$message({\r\n          showClose: true,\r\n          message: '请至少选择一条数据！',\r\n          type: 'warning'\r\n        })\r\n        return\r\n      }\r\n      let delList = this.$refs.table.getSelectData()\r\n      for (let index = 0; index < delList.length; index++) {\r\n        if (delList[index].status !== '0') {\r\n          this.$message({\r\n            showClose: true,\r\n            message: '角色名称为 ' + delList[index].name + ' 已禁用，请不要重复禁用！',\r\n            type: 'warning'\r\n          })\r\n          return\r\n        }\r\n      }\r\n      this.$confirm('确认是否禁用所选角色?', '提示', {\r\n        confirmButtonText: '确定',\r\n        cancelButtonText: '取消',\r\n        type: 'warning'\r\n      }).then(() => {\r\n        // 执行删除操作\r\n        const loadObj = this.$loading({\r\n          lock: true,\r\n          text: '正在加载...',\r\n          spinner: 'el-icon-loading',\r\n          background: 'rgba(0, 0, 0, 0.7)'\r\n        })\r\n        let rolePo = {\r\n          listRolePo: []\r\n        }\r\n        delList.forEach((oneObj) => {\r\n          let delObj = {\r\n            id: oneObj.id,\r\n            version: oneObj.version\r\n          }\r\n          rolePo.listRolePo.push(delObj)\r\n        })\r\n        disableRole(rolePo).then((response) => {\r\n          loadObj.close()\r\n          if (response.data.code === 0) {\r\n            this.$message({\r\n              showClose: true,\r\n              message: '禁用成功！',\r\n              type: 'success'\r\n            })\r\n            this.$refs.table.refresh()\r\n          } else {\r\n            this.$message({\r\n              showClose: true,\r\n              message: response.data.message,\r\n              type: 'error'\r\n            })\r\n          }\r\n        }).catch((response) => {\r\n          console.log(response)\r\n          loadObj.close()\r\n          this.$message({\r\n            showClose: true,\r\n            message: '禁用失败！',\r\n            type: 'error'\r\n          })\r\n        })\r\n      }).catch(() => {\r\n        this.$message({\r\n          type: 'info',\r\n          message: '已取消禁用'\r\n        })\r\n      })\r\n    },\r\n    /**\r\n     * 启用按钮点击事件\r\n     */\r\n    enableRole () {\r\n      if (this.$refs.table.getSelectData().length < 1) {\r\n        this.$message({\r\n          showClose: true,\r\n          message: '请至少选择一条数据！',\r\n          type: 'warning'\r\n        })\r\n        return\r\n      }\r\n      let delList = this.$refs.table.getSelectData()\r\n      for (let index = 0; index < delList.length; index++) {\r\n        if (delList[index].status === '0') {\r\n          this.$message({\r\n            showClose: true,\r\n            message: '角色名称为 ' + delList[index].name + ' 正常，请不要重复启用！',\r\n            type: 'warning'\r\n          })\r\n          return\r\n        } else if (delList[index].status === '2' || this.systemMap[delList[index].systemId].status !== '0') {\r\n          this.$message({\r\n            showClose: true,\r\n            message: '角色名称为 ' + delList[index].name + ' 所属系统已禁用，请重新选择！',\r\n            type: 'warning'\r\n          })\r\n          return\r\n        }\r\n      }\r\n      this.$confirm('确认是否启用所选角色?', '提示', {\r\n        confirmButtonText: '确定',\r\n        cancelButtonText: '取消',\r\n        type: 'warning'\r\n      }).then(() => {\r\n        // 执行删除操作\r\n        const loadObj = this.$loading({\r\n          lock: true,\r\n          text: '正在加载...',\r\n          spinner: 'el-icon-loading',\r\n          background: 'rgba(0, 0, 0, 0.7)'\r\n        })\r\n        let rolePo = {\r\n          listRolePo: []\r\n        }\r\n        delList.forEach((oneObj) => {\r\n          let delObj = {\r\n            id: oneObj.id,\r\n            version: oneObj.version\r\n          }\r\n          rolePo.listRolePo.push(delObj)\r\n        })\r\n        enableRole(rolePo).then((response) => {\r\n          loadObj.close()\r\n          if (response.data.code === 0) {\r\n            this.$message({\r\n              showClose: true,\r\n              message: '启用成功！',\r\n              type: 'success'\r\n            })\r\n            this.$refs.table.refresh()\r\n          } else {\r\n            this.$message({\r\n              showClose: true,\r\n              message: response.data.message,\r\n              type: 'error'\r\n            })\r\n          }\r\n        }).catch((response) => {\r\n          console.log(response)\r\n          loadObj.close()\r\n          this.$message({\r\n            showClose: true,\r\n            message: '启用失败！',\r\n            type: 'error'\r\n          })\r\n        })\r\n      }).catch(() => {\r\n        this.$message({\r\n          type: 'info',\r\n          message: '已取消启用'\r\n        })\r\n      })\r\n    },\r\n    /**\r\n     * 点击增加和修改按钮弹出框中的取消按钮事件\r\n     */\r\n    resetForm () {\r\n      this.centerDialogVisible = false\r\n    },\r\n    /**\r\n     * 点击增加和修改按钮弹出框中的确定按钮事件\r\n     */\r\n    saveRoleObj () {\r\n      this.$refs.ruleForm.validate((valid) => {\r\n        if (!valid) {\r\n          return false\r\n        }\r\n        let rolePermissionBeanList = []\r\n        this.$refs.tree.getCheckedNodes().forEach((oneSelect) => {\r\n          let obj = {}\r\n          obj.permissionId = oneSelect.id\r\n          obj.visible = oneSelect.visible\r\n          rolePermissionBeanList.push(obj)\r\n        })\r\n        const loadObj = this.$loading({\r\n          lock: true,\r\n          text: '正在加载...',\r\n          spinner: 'el-icon-loading',\r\n          background: 'rgba(0, 0, 0, 0.7)'\r\n        })\r\n        let url = ''\r\n        let data = {}\r\n        if (this.addOrModifyMark) {\r\n          url = 'role/add'\r\n          this.roleObj.dataScope = this.dataScopeType.value\r\n          this.roleObj.rolePermissionBeanList = rolePermissionBeanList\r\n          data = this.roleObj\r\n        } else {\r\n          url = 'role/modify'\r\n          this.modifyRoleObj.dataScope = this.dataScopeType.value\r\n          this.modifyRoleObj.rolePermissionBeanList = rolePermissionBeanList\r\n          data = this.modifyRoleObj\r\n        }\r\n        addOrModifyRole(url, data).then((response) => {\r\n          loadObj.close()\r\n          if (response.data.code === 0) {\r\n            this.$message({\r\n              showClose: true,\r\n              message: '保存成功！',\r\n              type: 'success'\r\n            })\r\n            this.centerDialogVisible = false\r\n            this.$refs.tree.setCheckedKeys([])\r\n            this.loadData()\r\n          } else {\r\n            this.$message({\r\n              showClose: true,\r\n              message: response.data.message,\r\n              type: 'error'\r\n            })\r\n          }\r\n        }).catch((response) => {\r\n          console.log(response)\r\n          loadObj.close()\r\n          this.centerDialogVisible = false\r\n          this.$message({\r\n            showClose: true,\r\n            message: '保存失败！',\r\n            type: 'error'\r\n          })\r\n        })\r\n      })\r\n    },\r\n    /**\r\n     * 点击授权弹出框中的确定按钮事件\r\n     */\r\n    saveEmpower () {\r\n      this.$refs.empowerRuleForm.validate((valid) => {\r\n        if (!valid) {\r\n          return false\r\n        }\r\n        let rolePermissionBeanList = []\r\n        this.$refs.empowerTree.getCheckedNodes().forEach((oneSelect) => {\r\n          let obj = {}\r\n          obj.permissionId = oneSelect.id\r\n          obj.visible = oneSelect.visible\r\n          rolePermissionBeanList.push(obj)\r\n        })\r\n        this.empowerObj.rolePermissionBeanList = rolePermissionBeanList\r\n        const loadObj = this.$loading({\r\n          lock: true,\r\n          text: '正在加载...',\r\n          spinner: 'el-icon-loading',\r\n          background: 'rgba(0, 0, 0, 0.7)'\r\n        })\r\n        let url = 'role/modify'\r\n        // 用户授权相当于修改用户权限关联表\r\n        addOrModifyRole(url, this.empowerObj).then((response) => {\r\n          loadObj.close()\r\n          if (response.data.code === 0) {\r\n            this.$message({\r\n              showClose: true,\r\n              message: '授权成功！',\r\n              type: 'success'\r\n            })\r\n            this.empowerDialogVisible = false\r\n            this.$refs.empowerTree.setCheckedKeys([])\r\n            this.loadData()\r\n          } else {\r\n            this.$message({\r\n              showClose: true,\r\n              message: response.data.message,\r\n              type: 'error'\r\n            })\r\n          }\r\n        }).catch((response) => {\r\n          console.log(response)\r\n          loadObj.close()\r\n          this.empowerDialogVisible = false\r\n          this.$message({\r\n            showClose: true,\r\n            message: '保存失败！',\r\n            type: 'error'\r\n          })\r\n        })\r\n      })\r\n    },\r\n    /**\r\n     * 导出按钮点击事件\r\n     */\r\n    exportRole (row) {\r\n      let delList = []\r\n      if (row.type === 'click') {\r\n        if (this.$refs.table.getSelectData().length < 1) {\r\n          this.$message({\r\n            showClose: true,\r\n            message: '请至少选择一条数据导出！',\r\n            type: 'warning'\r\n          })\r\n          return\r\n        }\r\n        delList = this.$refs.table.getSelectData()\r\n      }\r\n      this.$confirm('确定是否导出数据?', '提示', {\r\n        confirmButtonText: '确定',\r\n        cancelButtonText: '取消',\r\n        type: 'warning'\r\n      }).then(() => {\r\n        // 执行删除操作\r\n        const loadObj = this.$loading({\r\n          lock: true,\r\n          text: '正在加载...',\r\n          spinner: 'el-icon-loading',\r\n          background: 'rgba(0, 0, 0, 0.7)'\r\n        })\r\n        let rolePo = {\r\n          listRoleExportPo: []\r\n        }\r\n        this.$common.jsonSort(delList, 'orders', this.orderType.value !== 0)\r\n        delList.forEach((oneObj) => {\r\n          let exportObj = {}\r\n          exportObj.name = oneObj.name\r\n          exportObj.title = oneObj.title\r\n          exportObj.description = oneObj.description\r\n          exportObj.orders = oneObj.orders\r\n          exportObj.systemName = this.systemMap[oneObj.systemId].name\r\n          if (oneObj.dataScope === '1') {\r\n            exportObj.dataScope = '全部数据权限'\r\n          } else if (oneObj.dataScope === '2') {\r\n            exportObj.dataScope = '自定数据权限'\r\n          } else if (oneObj.dataScope === '3') {\r\n            exportObj.dataScope = '本部门数据权限'\r\n          } else if (oneObj.dataScope === '4') {\r\n            exportObj.dataScope = '本部门及以下数据权限'\r\n          }\r\n          exportObj.status = '正常'\r\n          if (oneObj.status === '1') {\r\n            exportObj.status = '禁用'\r\n          } else if (oneObj.status === '2') {\r\n            exportObj.status = '系统禁用'\r\n          }\r\n          exportObj.delFlag = '存在'\r\n          if (oneObj.delFlag === '1') {\r\n            exportObj.delFlag = '已删除'\r\n          }\r\n          rolePo.listRoleExportPo.push(exportObj)\r\n        })\r\n        downloadRoleExcel(rolePo).then((response) => {\r\n          loadObj.close()\r\n          if (response.data.code === 0) {\r\n            // 生成excel\r\n            // 这里res.data是返回的blob对象\r\n            let blob = new Blob([response.data.data], {type: 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=utf-8'}) // application/vnd.openxmlformats-officedocument.spreadsheetml.sheet这里表示xlsx类型\r\n            var downloadElement = document.createElement('a')\r\n            var href = window.URL.createObjectURL(blob) // 创建下载的链接\r\n            downloadElement.href = href\r\n            downloadElement.download = '角色信息.xlsx' // 下载后文件名\r\n            document.body.appendChild(downloadElement)\r\n            downloadElement.click() // 点击下载\r\n            document.body.removeChild(downloadElement) // 下载完成移除元素\r\n            window.URL.revokeObjectURL(href) // 释放掉blob对象\r\n          } else {\r\n            this.$message({\r\n              showClose: true,\r\n              message: response.data.message,\r\n              type: 'error'\r\n            })\r\n          }\r\n        }).catch((response) => {\r\n          console.log(response)\r\n          loadObj.close()\r\n          this.$message({\r\n            showClose: true,\r\n            message: '导出失败！',\r\n            type: 'error'\r\n          })\r\n        })\r\n      }).catch(() => {\r\n        this.$message({\r\n          type: 'info',\r\n          message: '已取消导出'\r\n        })\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n  .custom-tree-node {\r\n    flex: 1;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: space-between;\r\n    /*font-size: 14px;*/\r\n    padding-right: 8px;\r\n  }\r\n  .custom-tree-node >>> .el-button--mini {\r\n    padding: 2px 5px;\r\n  }\r\n  .custom-tree-node-button-active{\r\n    color: #ffffff;\r\n    background-color: #116eff;\r\n    border-color: #116eff;\r\n  }\r\n  .custom-tree-node-button-normal{\r\n    color: #2077ff;\r\n    background-color: #ffffff;\r\n    border-color: #2077ff;\r\n  }\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/pages/Upms/upmsRole.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"app-container-item\"},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showQuery),expression:\"showQuery\"}],staticClass:\"app-form\"},[_c('div',{staticClass:\"app-form-item\"},[_c('el-input',{staticStyle:{\"width\":\"150px\"},attrs:{\"type\":\"text\",\"placeholder\":\"输入角色名称搜索\"},model:{value:(_vm.tableOptions.query.name),callback:function ($$v) {_vm.$set(_vm.tableOptions.query, \"name\", $$v)},expression:\"tableOptions.query.name\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"app-form-item\"},[_c('el-select',{staticStyle:{\"width\":\"120px\"},attrs:{\"placeholder\":\"请选择\"},model:{value:(_vm.orderType),callback:function ($$v) {_vm.orderType=$$v},expression:\"orderType\"}},_vm._l((_vm.orderTypes),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item}})}))],1),_vm._v(\" \"),_c('div',{staticClass:\"app-form-item\"},[_c('el-select',{staticStyle:{\"width\":\"120px\"},attrs:{\"placeholder\":\"请选择\"},model:{value:(_vm.statusType),callback:function ($$v) {_vm.statusType=$$v},expression:\"statusType\"}},_vm._l((_vm.statusTypes),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item}})}))],1),_vm._v(\" \"),_c('div',{staticClass:\"app-form-buttons\"},[_c('div',{staticClass:\"app-form-buttons-item\"},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.loadData}},[_c('ant-icon',{attrs:{\"icon-class\":\"SearchOutlined\"}}),_vm._v(\"\\n              查询\\n            \")],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"app-form-buttons-item\"},[_c('el-button',{attrs:{\"type\":\"success\"},on:{\"click\":_vm.clear}},[_c('ant-icon',{attrs:{\"icon-class\":\"RedoOutlined\"}}),_vm._v(\"\\n              重置\\n            \")],1)],1)])]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showQuery),expression:\"showQuery\"}],staticClass:\"app-hr\"}),_vm._v(\" \"),_c('div',{staticClass:\"app-form\"},[_c('div',{staticClass:\"app-form-buttons\"},[_c('div',{directives:[{name:\"buttonshow\",rawName:\"v-buttonshow\",value:('upms:Role:add'),expression:\"'upms:Role:add'\"}],staticClass:\"app-form-buttons-item\"},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.addRole}},[_c('ant-icon',{attrs:{\"icon-class\":\"PlusOutlined\"}}),_vm._v(\"\\n              新增\\n            \")],1)],1),_vm._v(\" \"),_c('div',{directives:[{name:\"buttonshow\",rawName:\"v-buttonshow\",value:('upms:Role:upd'),expression:\"'upms:Role:upd'\"}],staticClass:\"app-form-buttons-item\"},[_c('el-button',{attrs:{\"type\":\"success\"},on:{\"click\":_vm.modifyRole}},[_c('ant-icon',{attrs:{\"icon-class\":\"EditOutlined\"}}),_vm._v(\"\\n              修改\\n            \")],1)],1),_vm._v(\" \"),_c('div',{directives:[{name:\"buttonshow\",rawName:\"v-buttonshow\",value:('upms:Role:del'),expression:\"'upms:Role:del'\"}],staticClass:\"app-form-buttons-item\"},[_c('el-button',{attrs:{\"type\":\"danger\"},on:{\"click\":_vm.removeRole}},[_c('ant-icon',{attrs:{\"icon-class\":\"DeleteOutlined\"}}),_vm._v(\"\\n              删除\\n            \")],1)],1),_vm._v(\" \"),_c('div',{directives:[{name:\"buttonshow\",rawName:\"v-buttonshow\",value:('upms:Role:auth'),expression:\"'upms:Role:auth'\"}],staticClass:\"app-form-buttons-item\"},[_c('el-button',{attrs:{\"type\":\"warning\"},on:{\"click\":_vm.empowerRole}},[_c('ant-icon',{attrs:{\"icon-class\":\"UploadOutlined\"}}),_vm._v(\"\\n              授权\\n            \")],1)],1),_vm._v(\" \"),_c('div',{directives:[{name:\"buttonshow\",rawName:\"v-buttonshow\",value:('upms:Role:unable'),expression:\"'upms:Role:unable'\"}],staticClass:\"app-form-buttons-item\"},[_c('el-button',{attrs:{\"type\":\"warning\"},on:{\"click\":_vm.disableRole}},[_c('ant-icon',{attrs:{\"icon-class\":\"UploadOutlined\"}}),_vm._v(\"\\n              禁用\\n            \")],1)],1),_vm._v(\" \"),_c('div',{directives:[{name:\"buttonshow\",rawName:\"v-buttonshow\",value:('upms:Role:enable'),expression:\"'upms:Role:enable'\"}],staticClass:\"app-form-buttons-item\"},[_c('el-button',{attrs:{\"type\":\"warning\"},on:{\"click\":_vm.enableRole}},[_c('ant-icon',{attrs:{\"icon-class\":\"UploadOutlined\"}}),_vm._v(\"\\n              启用\\n            \")],1)],1)]),_vm._v(\" \"),_c('el-button-group',{staticClass:\"app-form-button-group align-right\"},[_c('el-button',{attrs:{\"plain\":\"\",\"type\":\"info\",\"icon\":\"el-icon-search\"},on:{\"click\":_vm.toggleQuery}}),_vm._v(\" \"),_c('el-button',{attrs:{\"icon\":\"el-icon-refresh\"},on:{\"click\":_vm.refresh}})],1)],1)]),_vm._v(\" \"),_c('div',{staticClass:\"app-container-item\"},[_c('TableBase',_vm._b({ref:\"table\"},'TableBase',_vm.tableOptions,false))],1),_vm._v(\" \"),_c('el-dialog',{attrs:{\"title\":\"角色编辑\",\"visible\":_vm.centerDialogVisible,\"width\":\"480px\"},on:{\"update:visible\":function($event){_vm.centerDialogVisible=$event}}},[_c('el-form',{ref:\"ruleForm\",staticClass:\"demo-ruleForm\",attrs:{\"model\":_vm.roleObj,\"rules\":_vm.rules,\"label-suffix\":\"\",\"label-width\":\"120px\"}},[_c('el-form-item',{attrs:{\"label\":\"角色标题\",\"prop\":\"title\"}},[_c('el-input',{attrs:{\"placeholder\":\"角色标题\"},model:{value:(_vm.roleObj.title),callback:function ($$v) {_vm.$set(_vm.roleObj, \"title\", $$v)},expression:\"roleObj.title\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"角色名称\",\"prop\":\"name\"}},[_c('el-input',{attrs:{\"placeholder\":\"角色名称\"},model:{value:(_vm.roleObj.name),callback:function ($$v) {_vm.$set(_vm.roleObj, \"name\", $$v)},expression:\"roleObj.name\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"角色所属系统\",\"prop\":\"systemId\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择\",\"disabled\":!_vm.addOrModifyMark},model:{value:(_vm.roleObj.systemId),callback:function ($$v) {_vm.$set(_vm.roleObj, \"systemId\", $$v)},expression:\"roleObj.systemId\"}},_vm._l((_vm.systemMap),function(item){return _c('el-option',{key:item.id,attrs:{\"label\":item.name,\"value\":item.id}})}))],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"分配权限\",\"prop\":\"systemId\"}},[_c('el-tree',{ref:\"tree\",attrs:{\"data\":_vm.permissions,\"show-checkbox\":\"\",\"node-key\":\"id\",\"default-checked-keys\":_vm.defaultCheckIds,\"check-strictly\":true,\"expand-on-click-node\":false,\"props\":{label: 'name'}},on:{\"check\":_vm.checkChange},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar node = ref.node;\nvar data = ref.data;\nreturn _c('span',{staticClass:\"custom-tree-node\"},[_c('span',[_vm._v(_vm._s(node.label))]),_vm._v(\" \"),_c('span',[_c('el-button',{class:data.visible === '0' ? 'custom-tree-node-button-active' : 'custom-tree-node-button-normal',attrs:{\"size\":\"mini\"},on:{\"click\":function () { return _vm.nodeShow(node, data, '0'); }}},[_vm._v(\"\\n                  显示\\n                \")]),_vm._v(\" \"),_c('el-button',{class:data.visible === '1' ? 'custom-tree-node-button-active' : 'custom-tree-node-button-normal',attrs:{\"size\":\"mini\"},on:{\"click\":function () { return _vm.nodeShow(node, data, '1'); }}},[_vm._v(\"\\n                  隐藏\\n                \")])],1)])}}])})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"角色描述\",\"prop\":\"description\"}},[_c('el-input',{attrs:{\"type\":\"textarea\",\"rows\":3,\"placeholder\":\"角色描述\"},model:{value:(_vm.roleObj.description),callback:function ($$v) {_vm.$set(_vm.roleObj, \"description\", $$v)},expression:\"roleObj.description\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"排序\",\"prop\":\"orders\"}},[_c('el-input-number',{attrs:{\"min\":1},model:{value:(_vm.roleObj.orders),callback:function ($$v) {_vm.$set(_vm.roleObj, \"orders\", $$v)},expression:\"roleObj.orders\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"数据范围\",\"prop\":\"dataScope\"}},[_c('el-select',{staticStyle:{\"width\":\"180px\"},attrs:{\"placeholder\":\"\"},model:{value:(_vm.dataScopeType),callback:function ($$v) {_vm.dataScopeType=$$v},expression:\"dataScopeType\"}},_vm._l((_vm.dataScopeTypes),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item}})}))],1),_vm._v(\" \"),(_vm.addOrModifyMark)?_c('el-form-item',{attrs:{\"label\":\"状态\",\"prop\":\"status\"}},[_c('el-radio',{attrs:{\"label\":\"0\"},model:{value:(_vm.roleObj.status),callback:function ($$v) {_vm.$set(_vm.roleObj, \"status\", $$v)},expression:\"roleObj.status\"}},[_vm._v(\"正常\")]),_vm._v(\" \"),_c('el-radio',{attrs:{\"label\":\"1\"},model:{value:(_vm.roleObj.status),callback:function ($$v) {_vm.$set(_vm.roleObj, \"status\", $$v)},expression:\"roleObj.status\"}},[_vm._v(\"停用\")])],1):_vm._e()],1),_vm._v(\" \"),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":_vm.resetForm}},[_vm._v(\"取 消\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.saveRoleObj}},[_vm._v(\"确 定\")])],1)],1),_vm._v(\" \"),_c('el-dialog',{attrs:{\"title\":\"角色授权\",\"visible\":_vm.empowerDialogVisible,\"width\":\"480px\"},on:{\"update:visible\":function($event){_vm.empowerDialogVisible=$event}}},[_c('el-form',{ref:\"empowerRuleForm\",staticClass:\"demo-ruleForm\",attrs:{\"model\":_vm.empowerObj,\"label-suffix\":\"\",\"label-width\":\"120px\"}},[_c('el-form-item',{attrs:{\"label\":\"角色所属系统\",\"prop\":\"systemId\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择\",\"disabled\":\"\"},model:{value:(_vm.empowerObj.systemId),callback:function ($$v) {_vm.$set(_vm.empowerObj, \"systemId\", $$v)},expression:\"empowerObj.systemId\"}},_vm._l((_vm.systemMap),function(item){return _c('el-option',{key:item.id,attrs:{\"label\":item.name,\"value\":item.id}})}))],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"分配权限\",\"prop\":\"rolePermissions\"}},[_c('el-tree',{ref:\"empowerTree\",attrs:{\"data\":_vm.empowerPermissions,\"show-checkbox\":\"\",\"node-key\":\"id\",\"default-checked-keys\":_vm.defaultEmpowerCheckIds,\"check-strictly\":true,\"expand-on-click-node\":false,\"props\":{label: 'name'}},on:{\"check\":_vm.empowerCheckChange},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar node = ref.node;\nvar data = ref.data;\nreturn _c('span',{staticClass:\"custom-tree-node\"},[_c('span',[_vm._v(_vm._s(node.label))]),_vm._v(\" \"),_c('span',[_c('el-button',{class:data.visible === '0' ? 'custom-tree-node-button-active' : 'custom-tree-node-button-normal',attrs:{\"size\":\"mini\"},on:{\"click\":function () { return _vm.nodeShow(node, data, '0'); }}},[_vm._v(\"\\n                  显示\\n                \")]),_vm._v(\" \"),_c('el-button',{class:data.visible === '1' ? 'custom-tree-node-button-active' : 'custom-tree-node-button-normal',attrs:{\"size\":\"mini\"},on:{\"click\":function () { return _vm.nodeShow(node, data, '1'); }}},[_vm._v(\"\\n                  隐藏\\n                \")])],1)])}}])})],1)],1),_vm._v(\" \"),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.empowerDialogVisible = false}}},[_vm._v(\"取 消\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.saveEmpower}},[_vm._v(\"确 定\")])],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-02ab5869\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/Upms/upmsRole.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-02ab5869\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./upmsRole.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./upmsRole.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./upmsRole.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-02ab5869\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./upmsRole.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-02ab5869\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/Upms/upmsRole.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}