{"version":3,"sources":["webpack:///src/pages/Upms/upmsInterface.vue","webpack:///./src/pages/Upms/upmsInterface.vue?4e6d","webpack:///./src/pages/Upms/upmsInterface.vue"],"names":["upmsInterface","name","data","_this","this","showQuery","systemMap","rules","uri","required","message","trigger","systemId","interfaceObj","status","orders","objStatus","centerDialogVisible","tableOptions","api","query","hideOnSinglePage","staticData","columns","attr","prop","type","label","width","min-width","show-overflow-tooltip","formatter","row","column","cellValue","index","val","undefined","fixed","template","el","attrByRow","disabled","date","content","handle","editInterfaceRadio","delInterfaceBeforeRadio","props","components","TableBase","beforeRouteEnter","to","from","next","vm","selectSystem","loadData","beforeRouteLeave","beforeCreate","created","beforeMount","mounted","beforeUpdate","updated","beforeDestroy","destroyed","watch","computed","directives","filter","methods","toggleQuery","refresh","$refs","tableref","clear","addInterface","intObj","editInterfaceButton","list","getSelectData","length","$message","showClose","_this2","$confirm","confirmButtonText","cancelButtonText","then","push","deleteInterface","delInterfaceBeforeSystemButton","_this3","_this4","Object","listInterfacePo","response","code","catch","console","log","expInterface","_this5","forEach","systemObj","$set","id","saveInterfaceObj","_this6","ruleForm","validate","valid","loadObj","$loading","lock","text","spinner","background","close","Upms_upmsInterface","render","_vm","_h","$createElement","_c","_self","staticClass","rawName","value","expression","staticStyle","attrs","placeholder","model","callback","$$v","_v","clearable","_l","item","key","on","click","icon-class","plain","icon","_b","ref","title","visible","update:visible","$event","label-suffix","label-width","slot","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/16.d9e0293ac1c50676528c.js","sourcesContent":["<template>\n  <div>\n    <div class=\"app-container-item\">\n      <div class=\"app-form\" v-show=\"showQuery\">\n        <div class=\"app-form-item\">\n          <el-input type=\"text\" v-model=\"tableOptions.query.name\" placeholder=\"输入接口名称搜索\" style=\"width: 200px;\"/>\n        </div>\n        <div class=\"app-form-item\">\n          <el-select v-model=\"tableOptions.query.systemId\"    placeholder=\"请选择所属系统\" clearable style=\"width: 200px;\">\n            <el-option\n              v-for=\"item in systemMap\"\n              :key=\"item.id\"\n              :label=\"item.name\"\n              :value=\"item.id\">\n            </el-option>\n          </el-select>\n        </div>\n        <div class=\"app-form-buttons\">\n          <div class=\"app-form-buttons-item\">\n            <el-button @click=\"loadData\" type=\"primary\">\n              <ant-icon icon-class=\"SearchOutlined\"></ant-icon>\n              查询\n            </el-button>\n          </div>\n          <div class=\"app-form-buttons-item\">\n            <el-button @click=\"clear\" type=\"success\">\n              <ant-icon icon-class=\"RedoOutlined\"></ant-icon>\n              重置\n            </el-button>\n          </div>\n        </div>\n      </div>\n      <div class=\"app-hr\" v-show=\"showQuery\"></div>\n      <div class=\"app-form\">\n        <div class=\"app-form-buttons\">\n          <div class=\"app-form-buttons-item\" v-buttonshow=\"'upms:Interface:add'\">\n            <el-button @click=\"addInterface\" type=\"success\">\n              <ant-icon icon-class=\"PlusOutlined\"></ant-icon>\n              新增\n            </el-button>\n          </div>\n          <div class=\"app-form-buttons-item\" v-buttonshow=\"'upms:Interface:upd'\">\n            <el-button @click=\"editInterfaceButton\" type=\"danger\">\n              <ant-icon icon-class=\"EditOutlined\"></ant-icon>\n              修改\n            </el-button>\n          </div>\n          <div class=\"app-form-buttons-item\" v-buttonshow=\"'upms:Interface:del'\">\n            <el-button @click=\"delInterfaceBeforeSystemButton\" type=\"warning\">\n              <ant-icon icon-class=\"DeleteOutlined\"></ant-icon>\n              删除\n            </el-button>\n          </div>\n          <div class=\"app-form-buttons-item\">\n            <el-button @click=\"expInterface\" type=\"warning\">\n              <ant-icon icon-class=\"UploadOutlined\"></ant-icon>\n              导出\n            </el-button>\n          </div>\n        </div>\n        <el-button-group class=\"app-form-button-group align-right\">\n          <el-button\n            plain\n            type=\"info\"\n            icon=\"el-icon-search\"\n            @click=\"toggleQuery\"\n          />\n          <el-button\n            icon=\"el-icon-refresh\"\n            @click=\"refresh\"\n          />\n        </el-button-group>\n      </div>\n    </div>\n    <div class=\"app-container-item\">\n      <TableBase ref=\"tableref\" v-bind=\"tableOptions\"></TableBase>\n    </div>\n    <el-dialog\n      title=\"接口编辑\"\n      :visible.sync=\"centerDialogVisible\"\n      width=\"480px\"\n      >\n      <el-form :model=\"interfaceObj\" :rules=\"rules\" label-suffix=\"\" ref=\"ruleForm\" label-width=\"120px\" class=\"demo-ruleForm\">\n        <el-form-item label=\"接口名称\" prop=\"name\">\n          <el-input  v-model=\"interfaceObj.name\" placeholder=\"接口名称\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"URI\" prop=\"uri\">\n          <el-input  v-model=\"interfaceObj.uri\" placeholder=\"URI\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"所属系统\" prop=\"systemId\">\n          <el-select v-model=\"interfaceObj.systemId\" placeholder=\"请选择\">\n            <el-option\n              v-for=\"item in systemMap\"\n              :key=\"item.id\"\n              :label=\"item.name\"\n              :value=\"item.id\">\n            </el-option>\n          </el-select>\n          <!--<el-input v-model=\"interfaceObj.systemId\" placeholder=\"所属系统\" ></el-input>-->\n        </el-form-item>\n      </el-form>\n      <span slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"centerDialogVisible = false\"  >取 消</el-button>\n        <el-button type=\"primary\" @click=\"saveInterfaceObj\" >确 定</el-button>\n      </span>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\n// import\nimport TableBase from '@/components/table/TableBase'\nimport {addInterface, delInterface, editInterface, queryInterface, querySystem} from '@/api'\nexport default {\n  name: 'Interface',\n  data () {\n    return {\n      // 定义的每个data 属性必须有注释\n      // 注释规则： //\n      // 查询是否显示\n      showQuery: true,\n      // 所有系统Map\n      systemMap: {},\n      // 填写验证\n      rules: {\n        uri: [{ required: true, message: 'URI不能为空', trigger: 'blur' }],\n        name: [{ required: true, message: '接口名称不能为空', trigger: 'blur' }],\n        systemId: [{ required: true, message: '所属系统不能为空', trigger: 'blur' }]\n      },\n      // 接口对象\n      interfaceObj: {\n        status: 1,\n        orders: 1\n      },\n      objStatus: false,\n      // 编辑弹框显示隐藏\n      centerDialogVisible: false,\n      tableOptions: {\n        api: queryInterface,\n        query: {\n          name: ''\n        },\n        hideOnSinglePage: false,\n        staticData: [],\n        columns: [\n          {\n            attr: {\n              prop: 'checkbox',\n              type: 'selection',\n              label: '多选',\n              width: '80'\n            }\n          },\n          {\n            attr: {\n              type: 'index',\n              label: '序号',\n              width: '80'\n            }\n          },\n          {\n            attr: {\n              prop: 'name',\n              label: '接口名称',\n              'min-width': '180',\n              'show-overflow-tooltip': true\n            }\n          },\n          {\n            attr: {\n              prop: 'systemId',\n              label: '所属系统',\n              'min-width': '180',\n              'show-overflow-tooltip': true,\n              formatter: (row, column, cellValue, index) => {\n                let val = ''\n                if (this.systemMap[cellValue] !== null && this.systemMap[cellValue] !== undefined) {\n                  val = this.systemMap[cellValue]['name']\n                }\n                return val\n              }\n            }\n          },\n          {\n            attr: {\n              prop: 'uri',\n              label: '接口地址',\n              'min-width': '180',\n              'show-overflow-tooltip': true\n            }\n          },\n          {\n            attr: {\n              prop: 'operation',\n              label: '操作',\n              width: 100,\n              fixed: 'right'\n            },\n            template: [\n              {\n                el: 'el-button',\n                attr: {\n                  type: 'text'\n                },\n                attrByRow: {\n                  disabled: function (index, row) {\n                    if (row.date === '2016-05-04') {\n                      return true\n                    }\n                  }\n                },\n                content: '修改',\n                handle: (index, row) => {\n                  this.editInterfaceRadio(row)\n                }\n              },\n              {\n                el: 'el-button',\n                attr: {\n                  type: 'text'\n                },\n                content: '删除',\n                handle: (index, row) => {\n                  this.delInterfaceBeforeRadio(row)\n                }\n              }\n            ]\n          }\n        ]\n      }\n    }\n  },\n  props: {\n    // id: {\n    //   default: '',\n    //   type: String\n    // }\n  },\n  components: {TableBase},\n  // 页面创建加载方法\n  beforeRouteEnter (to, from, next) {\n    next(vm => {\n      vm.selectSystem()\n      vm.loadData()\n    })\n  },\n  // beforeRouteUpdate (to, from, next) {\n  // },\n  // 页面销毁加载方法\n  beforeRouteLeave (to, from, next) {\n    next()\n  },\n  beforeCreate () {\n  },\n  created () {\n  },\n  beforeMount () {\n  },\n  mounted () {\n  },\n  beforeUpdate () {\n  },\n  updated () {\n  },\n  beforeDestroy () {\n  },\n  destroyed () {\n  },\n  watch: {},\n  computed: {},\n  directives: {},\n  filter: {},\n  methods: {\n    // 方法调用不需要注释，方法定义需要注释\n    // 方法注释规则 /** */\n    /**\n     * @desc 控制查询的显隐\n     */\n    toggleQuery () {\n      this.showQuery = !this.showQuery\n    },\n    /**\n     * @desc 刷新表格\n     */\n    refresh () {\n      this.$refs.tableref.refresh()\n    },\n    loadData () {\n      this.$refs.tableref.refresh()\n    },\n    clear () {\n      this.tableOptions.query = {}\n    },\n    /**\n     * 增加接口\n     */\n    addInterface () {\n      this.objStatus = false\n      this.interfaceObj = {}\n      this.centerDialogVisible = true\n    },\n    /**\n     * 修改权限\n     */\n    editInterfaceRadio (intObj) {\n      this.interfaceObj = intObj\n      this.objStatus = true\n      this.centerDialogVisible = true\n    },\n    /**\n     * 修改系统\n     */\n    editInterfaceButton () {\n      let list = this.$refs.tableref.getSelectData()\n      if (list.length === 0) {\n        this.$message({\n          showClose: true,\n          message: '请选择要修改的记录！',\n          type: 'warning'\n        })\n        return\n      }\n      if (list.length > 1) {\n        this.$message({\n          showClose: true,\n          message: '修改只可选择一条记录！',\n          type: 'warning'\n        })\n        return\n      }\n      this.objStatus = true\n      this.interfaceObj = list[0]\n      this.centerDialogVisible = true\n    },\n    delInterfaceBeforeRadio (row) {\n      this.$confirm('此操作将永久删除选择记录, 是否继续?', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(() => {\n        let list = []\n        list.push(row)\n        this.deleteInterface(list)\n      })\n    },\n    /**\n     * 删除系统\n     */\n    delInterfaceBeforeSystemButton () {\n      let list = this.$refs.tableref.getSelectData()\n      if (list.length === 0) {\n        this.$message({\n          showClose: true,\n          message: '请选择要修改的记录！',\n          type: 'warning'\n        })\n        return\n      }\n      this.$confirm('此操作将永久删除选择记录, 是否继续?', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(() => {\n        this.deleteInterface(list)\n      })\n    },\n    deleteInterface (list) {\n      delInterface({listInterfacePo: list}).then((response) => {\n        if (response.data.code === 0) {\n          this.$message({\n            showClose: true,\n            message: '删除成功！',\n            type: 'success'\n          })\n          this.centerDialogVisible = false\n          this.loadData()\n        } else {\n          this.$message({\n            showClose: true,\n            message: response.data.message,\n            type: 'error'\n          })\n        }\n      }).catch((response) => {\n        console.log(response)\n        this.$message({\n          showClose: true,\n          message: '删除失败！',\n          type: 'error'\n        })\n      })\n    },\n    /**\n     * 修改接口\n     */\n    expInterface () {\n    },\n    selectSystem () {\n      querySystem({}).then((response) => {\n        if (response.data.code === 0) {\n          response.data.data.forEach((systemObj) => {\n            this.$set(this.systemMap, systemObj.id, systemObj)\n            // this.systemMap[systemObj.id] = systemObj\n          })\n        } else {\n        }\n      }).catch((response) => {\n        console.log(response)\n      })\n    },\n    /**\n     * 提交接口对象\n     */\n    saveInterfaceObj () {\n      this.$refs.ruleForm.validate((valid) => {\n        if (!valid) {\n          return false\n        }\n        const loadObj = this.$loading({\n          lock: true,\n          text: '正在加载...',\n          spinner: 'el-icon-loading',\n          background: 'rgba(0, 0, 0, 0.7)'\n        })\n        if (this.objStatus) {\n          editInterface(this.interfaceObj).then((response) => {\n            loadObj.close()\n            if (response.data.code === 0) {\n              this.$message({\n                showClose: true,\n                message: '保存成功！',\n                type: 'success'\n              })\n              this.centerDialogVisible = false\n              this.loadData()\n            } else {\n              this.$message({\n                showClose: true,\n                message: response.data.message,\n                type: 'error'\n              })\n            }\n          }).catch((response) => {\n            console.log(response)\n            loadObj.close()\n            this.$message({\n              showClose: true,\n              message: '保存失败！',\n              type: 'error'\n            })\n          })\n        } else {\n          addInterface(this.interfaceObj).then((response) => {\n            loadObj.close()\n            if (response.data.code === 0) {\n              this.$message({\n                showClose: true,\n                message: '保存成功！',\n                type: 'success'\n              })\n              this.centerDialogVisible = false\n              this.loadData()\n            } else {\n              this.$message({\n                showClose: true,\n                message: response.data.message,\n                type: 'error'\n              })\n            }\n          }).catch((response) => {\n            console.log(response)\n            loadObj.close()\n            this.$message({\n              showClose: true,\n              message: '保存失败！',\n              type: 'error'\n            })\n          })\n        }\n      })\n    }\n  }\n}\n</script>\n\n<style scoped>\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/pages/Upms/upmsInterface.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"app-container-item\"},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showQuery),expression:\"showQuery\"}],staticClass:\"app-form\"},[_c('div',{staticClass:\"app-form-item\"},[_c('el-input',{staticStyle:{\"width\":\"200px\"},attrs:{\"type\":\"text\",\"placeholder\":\"输入接口名称搜索\"},model:{value:(_vm.tableOptions.query.name),callback:function ($$v) {_vm.$set(_vm.tableOptions.query, \"name\", $$v)},expression:\"tableOptions.query.name\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"app-form-item\"},[_c('el-select',{staticStyle:{\"width\":\"200px\"},attrs:{\"placeholder\":\"请选择所属系统\",\"clearable\":\"\"},model:{value:(_vm.tableOptions.query.systemId),callback:function ($$v) {_vm.$set(_vm.tableOptions.query, \"systemId\", $$v)},expression:\"tableOptions.query.systemId\"}},_vm._l((_vm.systemMap),function(item){return _c('el-option',{key:item.id,attrs:{\"label\":item.name,\"value\":item.id}})}))],1),_vm._v(\" \"),_c('div',{staticClass:\"app-form-buttons\"},[_c('div',{staticClass:\"app-form-buttons-item\"},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.loadData}},[_c('ant-icon',{attrs:{\"icon-class\":\"SearchOutlined\"}}),_vm._v(\"\\n            查询\\n          \")],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"app-form-buttons-item\"},[_c('el-button',{attrs:{\"type\":\"success\"},on:{\"click\":_vm.clear}},[_c('ant-icon',{attrs:{\"icon-class\":\"RedoOutlined\"}}),_vm._v(\"\\n            重置\\n          \")],1)],1)])]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showQuery),expression:\"showQuery\"}],staticClass:\"app-hr\"}),_vm._v(\" \"),_c('div',{staticClass:\"app-form\"},[_c('div',{staticClass:\"app-form-buttons\"},[_c('div',{directives:[{name:\"buttonshow\",rawName:\"v-buttonshow\",value:('upms:Interface:add'),expression:\"'upms:Interface:add'\"}],staticClass:\"app-form-buttons-item\"},[_c('el-button',{attrs:{\"type\":\"success\"},on:{\"click\":_vm.addInterface}},[_c('ant-icon',{attrs:{\"icon-class\":\"PlusOutlined\"}}),_vm._v(\"\\n            新增\\n          \")],1)],1),_vm._v(\" \"),_c('div',{directives:[{name:\"buttonshow\",rawName:\"v-buttonshow\",value:('upms:Interface:upd'),expression:\"'upms:Interface:upd'\"}],staticClass:\"app-form-buttons-item\"},[_c('el-button',{attrs:{\"type\":\"danger\"},on:{\"click\":_vm.editInterfaceButton}},[_c('ant-icon',{attrs:{\"icon-class\":\"EditOutlined\"}}),_vm._v(\"\\n            修改\\n          \")],1)],1),_vm._v(\" \"),_c('div',{directives:[{name:\"buttonshow\",rawName:\"v-buttonshow\",value:('upms:Interface:del'),expression:\"'upms:Interface:del'\"}],staticClass:\"app-form-buttons-item\"},[_c('el-button',{attrs:{\"type\":\"warning\"},on:{\"click\":_vm.delInterfaceBeforeSystemButton}},[_c('ant-icon',{attrs:{\"icon-class\":\"DeleteOutlined\"}}),_vm._v(\"\\n            删除\\n          \")],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"app-form-buttons-item\"},[_c('el-button',{attrs:{\"type\":\"warning\"},on:{\"click\":_vm.expInterface}},[_c('ant-icon',{attrs:{\"icon-class\":\"UploadOutlined\"}}),_vm._v(\"\\n            导出\\n          \")],1)],1)]),_vm._v(\" \"),_c('el-button-group',{staticClass:\"app-form-button-group align-right\"},[_c('el-button',{attrs:{\"plain\":\"\",\"type\":\"info\",\"icon\":\"el-icon-search\"},on:{\"click\":_vm.toggleQuery}}),_vm._v(\" \"),_c('el-button',{attrs:{\"icon\":\"el-icon-refresh\"},on:{\"click\":_vm.refresh}})],1)],1)]),_vm._v(\" \"),_c('div',{staticClass:\"app-container-item\"},[_c('TableBase',_vm._b({ref:\"tableref\"},'TableBase',_vm.tableOptions,false))],1),_vm._v(\" \"),_c('el-dialog',{attrs:{\"title\":\"接口编辑\",\"visible\":_vm.centerDialogVisible,\"width\":\"480px\"},on:{\"update:visible\":function($event){_vm.centerDialogVisible=$event}}},[_c('el-form',{ref:\"ruleForm\",staticClass:\"demo-ruleForm\",attrs:{\"model\":_vm.interfaceObj,\"rules\":_vm.rules,\"label-suffix\":\"\",\"label-width\":\"120px\"}},[_c('el-form-item',{attrs:{\"label\":\"接口名称\",\"prop\":\"name\"}},[_c('el-input',{attrs:{\"placeholder\":\"接口名称\"},model:{value:(_vm.interfaceObj.name),callback:function ($$v) {_vm.$set(_vm.interfaceObj, \"name\", $$v)},expression:\"interfaceObj.name\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"URI\",\"prop\":\"uri\"}},[_c('el-input',{attrs:{\"placeholder\":\"URI\"},model:{value:(_vm.interfaceObj.uri),callback:function ($$v) {_vm.$set(_vm.interfaceObj, \"uri\", $$v)},expression:\"interfaceObj.uri\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"所属系统\",\"prop\":\"systemId\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择\"},model:{value:(_vm.interfaceObj.systemId),callback:function ($$v) {_vm.$set(_vm.interfaceObj, \"systemId\", $$v)},expression:\"interfaceObj.systemId\"}},_vm._l((_vm.systemMap),function(item){return _c('el-option',{key:item.id,attrs:{\"label\":item.name,\"value\":item.id}})}))],1)],1),_vm._v(\" \"),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.centerDialogVisible = false}}},[_vm._v(\"取 消\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.saveInterfaceObj}},[_vm._v(\"确 定\")])],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-02abd4c0\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/Upms/upmsInterface.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-02abd4c0\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./upmsInterface.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./upmsInterface.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./upmsInterface.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-02abd4c0\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./upmsInterface.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-02abd4c0\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/Upms/upmsInterface.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}